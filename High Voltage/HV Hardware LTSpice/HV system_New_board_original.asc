Version 4
SHEET 1 880 680
WIRE 0 -224 -192 -224
WIRE -32 -160 -80 -160
WIRE 448 -160 384 -160
WIRE -80 -144 -80 -160
WIRE -32 -144 -32 -160
WIRE -1104 -80 -1152 -80
WIRE -1072 -80 -1104 -80
WIRE -192 -80 -192 -224
WIRE -1152 -48 -1152 -80
WIRE 384 16 384 -80
WIRE -272 32 -288 32
WIRE -192 32 -192 0
WIRE -80 32 -80 -64
WIRE -192 48 -192 32
WIRE -112 48 -192 48
WIRE 0 64 0 -224
WIRE 0 64 -48 64
WIRE 48 64 0 64
WIRE 144 64 128 64
WIRE 192 64 144 64
WIRE 288 64 272 64
WIRE 320 64 288 64
WIRE -976 80 -1056 80
WIRE -960 80 -976 80
WIRE -416 80 -464 80
WIRE -112 80 -416 80
WIRE -1056 112 -1056 80
WIRE 464 112 384 112
WIRE -80 176 -80 96
WIRE -464 208 -464 80
FLAG -1056 192 0
FLAG -1152 32 0
FLAG -464 288 0
FLAG -1104 -80 sine
FLAG -976 80 ramp
FLAG -416 80 PWM
FLAG -80 256 0
FLAG -32 -144 0
FLAG 448 -160 0
FLAG 144 128 0
FLAG 288 128 0
FLAG 464 192 0
FLAG 384 192 0
FLAG 464 112 Vout
FLAG -288 32 0
SYMBOL voltage -1152 -64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(.9 .9 1000)
SYMBOL voltage -1056 96 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 500u 500u 0 1000u)
SYMBOL bv -464 192 R0
SYMATTR InstName B1
SYMATTR Value V=if(V(sine)>V(ramp),3.3,0)
SYMBOL cap 128 64 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL res 288 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL npn 320 16 R0
SYMATTR InstName Q1
SYMBOL voltage 384 -64 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL res 448 96 R0
SYMATTR InstName EMCO_F1
SYMATTR Value 17
SYMBOL Opamps\\LT1006 -80 0 R0
SYMATTR InstName U1
SYMBOL voltage -80 -48 R180
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 12
SYMBOL voltage -80 272 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 12
SYMBOL res -176 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res -208 -96 R0
SYMATTR InstName R3
SYMATTR Value 2.2k
SYMBOL res 144 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL cap 272 64 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 368 96 R0
SYMATTR InstName R5
SYMATTR Value 560
TEXT -536 -304 Left 2 !.tran 0 1 0 .00001
